<!-- Banner -->
{{#if hero_image}}
    <tr>
        <td style="padding: 20px 30px; text-align: center; background-color: #ffffff;" class="mobile-padding">
            <img src="{{hero_image}}" alt="Featured Products" class="hero-image" style="width: 100%; height: auto;" />
        </td>
    </tr>
{{/if}}

<!-- Hero Section -->
<tr>
    <td style="padding: 50px 30px; text-align: center; background-color: #ffffff;" class="mobile-padding">
        <h1 style="margin: 0 0 20px; font-size: 36px; font-weight: bold; color: #1a202c; line-height: 1.2;" class="mobile-font-size">
            {{promotion.title}}
        </h1>
        <p style="margin: 0 0 30px; font-size: 18px; color: #4a5568; line-height: 1.6;">
            {{promotion.description}}
        </p>

        {{#if promotion.discount}}
            <div
                style="display: inline-block; background: linear-gradient(135deg, #ff6b6b 0%, #ee5a52 100%); color: #ffffff; padding: 20px 40px; border-radius: 50px; font-size: 24px; font-weight: bold; margin-bottom: 30px; box-shadow: 0 4px 15px rgba(255, 107, 107, 0.4);"
            >
                {{promotion.discount}}% OFF
            </div>
        {{/if}}

        {{#if promotion.code}}
            <div style="margin-bottom: 30px;">
                <p style="margin: 0 0 10px; font-size: 16px; color: #4a5568;">Use code:</p>
                <div
                    style="display: inline-block; background-color: #f7fafc; border: 2px dashed #cbd5e0; padding: 15px 25px; border-radius: 8px; font-family: 'Courier New', monospace; font-size: 20px; font-weight: bold; color: #2d3748; letter-spacing: 2px;"
                >
                    {{promotion.code}}
                </div>
            </div>
        {{/if}}

        <table role="presentation" cellspacing="0" cellpadding="0" border="0" style="margin: 0 auto;">
            <tr>
                <td
                    style="border-radius: 30px; background: linear-gradient(135deg, #4299e1 0%, #3182ce 100%); box-shadow: 0 4px 15px rgba(66, 153, 225, 0.4);"
                >
                    <a
                        href="{{url promotion.ctaLink}}"
                        style="display: block; padding: 18px 40px; color: #ffffff; text-decoration: none; font-size: 18px; font-weight: bold; border-radius: 30px;"
                    >
                        {{promotion.ctaText}}
                    </a>
                </td>
            </tr>
        </table>

        {{#if promotion.urgency}}
            <p style="margin: 20px 0 0; font-size: 14px; color: #e53e3e; font-weight: 600;">
                ‚è∞
                {{promotion.urgency}}
            </p>
        {{/if}}
    </td>
</tr>

<!-- Featured Products -->
{{#if featuredProducts}}
    <tr>
        <td style="padding: 0 20px 40px; background-color: #ffffff;" class="mobile-padding">
            <h2 style="margin: 0 0 30px; font-size: 28px; font-weight: bold; color: #1a202c; text-align: center;">
                Featured Products
            </h2>

            <table role="presentation" width="100%" cellspacing="0" cellpadding="0" border="0">
                {{#chunk featuredProducts 2}}
                    <tr>
                        {{#each this}}
                            <td width="50%" valign="top" style="padding: 10px; text-align: center;">
                                <a href="{{url}}" style="text-decoration:none; color:#000;">
                                    <img src="{{imageUrl}}" alt="{{name}}" width="100%" style="max-width:200px; display:block; margin:0 auto;" />
                                    <p style="margin: 10px 0 0; font-size:14px;">{{name}}</p>
                                    <p style="margin: 5px 0 0; font-weight:bold; font-size:16px;">{{price}}</p>
                                </a>
                            </td>
                        {{/each}}
                    </tr>
                {{/chunk}}
            </table>

            <table role="presentation" cellspacing="0" cellpadding="0" border="0" width="100%">
            <tr>
                {{#each featuredProducts}}
                <td style="width: {{#if @last}}100%{{else}}50%{{/if}}; padding: {{#unless @first}}0 0 0 15px{{else}}0 15px 0 0{{/unless}}; vertical-align: top;"
                    class="mobile-stack mobile-padding">
                    <table role="presentation" cellspacing="0" cellpadding="0" border="0" width="100%"
                        style="background-color: #ffffff; border: 1px solid #e2e8f0; border-radius: 12px; overflow: hidden; transition: transform 0.3s ease;">
                        <tr>
                            <td style="padding: 0;">
                                <img src="{{imageUrl}}" alt="{{name}}" style="width: 100%; height: 200px; object-fit: cover; display: block;" />
                            </td>
                        </tr>
                        <tr>
                            <td style="padding: 20px;">
                                <h3 style="margin: 0 0 10px; font-size: 18px; font-weight: bold; color: #1a202c;">
                                    {{name}}</h3>
                                <p style="margin: 0 0 15px; font-size: 14px; color: #718096; line-height: 1.5;">
                                    {{description}}</p>
                                <div style="margin-bottom: 15px;">
                                    {{#if originalPrice}}
                                    <span style="font-size: 14px; color: #a0aec0; text-decoration: line-through; margin-right: 8px;">{{currency
                                        originalPrice}}</span>
                                    {{/if}}
                                    <span style="font-size: 20px; font-weight: bold; color: #e53e3e;">{{currency price}}</span>
                                </div>
                                <table role="presentation" cellspacing="0" cellpadding="0" border="0" width="100%">
                                    <tr>
                                        <td style="border-radius: 8px; background-color: #4299e1;">
                                            <a href="{{url link}}"
                                                style="display: block; padding: 12px 20px; color: #ffffff; text-decoration: none; font-size: 14px; font-weight: 600; text-align: center; border-radius: 8px;">
                                                Shop Now
                                            </a>
                                        </td>
                                    </tr>
                                </table>
                            </td>
                        </tr>
                    </table>
                </td>
                {{#unless @last}}{{#if @even}}
            </tr>
            <tr>{{/if}}{{/unless}}
                {{/each}}
            </tr>
        </table>
        </td>
    </tr>
{{/if}}